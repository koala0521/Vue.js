{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/fish/index.js"],"names":[],"mappings":"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","file":"fish.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","console.log('fish');\r\n\r\nvar Fish = function(){\r\n    this.solo3 = '';\r\n    this.solo31 = 1;\r\n    this.catching = false;\r\n    this.limitTimes = 0;\r\n    this.resData = null;\r\n    this.netTypeArray = [\"undefined\", \"ethernet\", \"wifi\", \"edge\", \"2g\", \"3g\",\"4g\"];\r\n    this.$start = $('#startBtn');\r\n    this.init();\r\n};\r\nFish.prototype = {\r\n    constructor: Fish,\r\n    init: function () {\r\n        let _this = this;\r\n        this.initSwiper();\r\n        this.setCache();\r\n        this.getTimes();\r\n        this.bindEvent();\r\n        setTimeout(function(){\r\n            _this.leftAdd();\r\n        },1000);\r\n    },\r\n    bindEvent:function(){\r\n        let _this = this;\r\n        $(\"body\").on(\"touchend\",'.start-btn', function() {\r\n            if(this.catching) return;\r\n\r\n\r\n            if(!_this.limitTimes||_this.limitTimes<=0){\r\n                _this.showLimited();\r\n                _this.setLimitAnalysis();\r\n            }else{\r\n                _this.setClickAnalysis();\r\n                $('#countZa').text(_this.limitTimes-1);\r\n                _this.catching = true;\r\n                _this.getPrize();\r\n\r\n                $('.rope-break').hide();\r\n                $('.rope-catch').show();\r\n                $('#catchOx').addClass('xactive');\r\n                setTimeout(function(){\r\n                    var leftg = $('#catchOx').offset().left;\r\n                    var topg = $('#catchOx').offset().top;\r\n                    var solos = $('.solo').find('div');\r\n                    var indexda = '';\r\n                    for (var i = 0; i < solos.length; i++) {\r\n                        var middleX = solos.eq(i).offset().left;\r\n                        if (middleX>100&&middleX<250) {\r\n                            indexda = solos.eq(i).attr('indexdata');\r\n                            solos.eq(i).hide();\r\n                        }\r\n                    }\r\n                    var indexd = undefined?0:indexda;\r\n                    $('#catchOx .ox-catch').eq(indexd).show();\r\n                    $('#catchOx').addClass('oactive');\r\n                    setTimeout(function(){\r\n                        $('#catchOx').removeClass('oactive').removeClass('xactive');\r\n                        let result = _this.resData;\r\n                        if(result && result.error_code == 0){\r\n                            _this.showPrize();\r\n                        } else {\r\n                            _this.getPrizeFail();\r\n                        }\r\n                    },800)\r\n                },1000);\r\n            }\r\n        });\r\n\r\n        //关闭奖项弹窗\r\n        $('.popShowPrize').on('touchstart','.close,.close-btn',function(){\r\n            _this.hidePrize();\r\n        });\r\n        //关闭弹窗\r\n        $('.popNoResult').on('touchstart','.close,.close-btn',function(){\r\n            _this.hidePrize();\r\n        });\r\n    },\r\n    initSwiper:function(){\r\n        if(!Swiper) return;\r\n        new Swiper('.swiper-container', {\r\n            slidesPerView: 4,\r\n            spaceBetween: 20,\r\n            freeMode: true\r\n        });\r\n    },\r\n    setClickAnalysis:function(){\r\n        let _this = this;\r\n        if(!window._hmt){\r\n            setTimeout(function(){\r\n                _this.setClickAnalysis();\r\n            },500)\r\n        }else{\r\n            window._hmt.push(['_trackEvent', '捕鱼假日','抽奖', 't7']);\r\n        }\r\n    },\r\n    setLimitAnalysis:function(){\r\n        let _this = this;\r\n        if(!window._hmt){\r\n            setTimeout(function(){\r\n                _this.setLimitAnalysis();\r\n            },500)\r\n        }else{\r\n            window._hmt.push(['_trackEvent', '捕鱼假日-次数已用完','抽奖', 't7']);\r\n        }\r\n    },\r\n    leftAdd:function(){\r\n        var _this = this;\r\n        var speed = Math.ceil(Math.random()*10);\r\n        if (speed>6) {speed=5}\r\n        if (speed<3) {speed=5}\r\n        $('.solo').append('<div id=\"ox'+this.solo3+'\" indexdata=\"'+this.solo3+'\" class=\"ox-grey active1\"><img src=\"./dist/img/fish/move'+this.solo31+'.png\"></div>');\r\n        $('#ox'+this.solo3).css({'-webkit-transform':'translate3d(-40rem, 0px, 0px)','-webkit-transition':'transform '+speed+'s linear 0s'});\r\n        this.solo31++;\r\n        this.solo3++;\r\n        var lengtha =$('.solo').find('div').length;\r\n        if (lengtha==8) {\r\n            $('.solo').find('div').eq(0).remove();\r\n        }\r\n        if (this.solo3==4) {\r\n            this.solo3 = '';\r\n            this.solo31 = 1;\r\n        }\r\n        setTimeout(function(){\r\n            _this.leftAdd();\r\n        },1000)\r\n    },\r\n    getTimes:function(){    /*获取抽奖次数*/\r\n        var _this = this;\r\n        var deviceId = store.get('device_id') || this.getUrlItem('device_id');\r\n\r\n        if (deviceId != 'null') {\r\n            var timesData = {\r\n                template_id: window.CFG['template_id'],\r\n                app_id: store.get('app_id') ||this.getUrlItem('app_id'),\r\n                adslot_id: store.get('adslot_id') ||this.getUrlItem('adslot_id'),\r\n                device_id: deviceId,\r\n                timestamp: +new Date(),\r\n            };\r\n            $.ajax({\r\n                url: '/url/init',\r\n                type: \"post\",\r\n                contentType: \"application/json;\",\r\n                data: JSON.stringify(timesData),\r\n                success: function (result) {\r\n                    if (result.limitTimes >= 0) {\r\n                        _this.limitTimes = result.limitTimes;\r\n                        $('#countZa').text(_this.limitTimes);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    },\r\n    setCache:function(){    /*设置缓存*/\r\n        for (var key in CFG){\r\n            if (CFG[key] == '' && this.getUrlItem(key) != null) {\r\n                CFG[key] = this.getUrlItem(key);\r\n                store.set(key,CFG[key]);\r\n            }\r\n        }\r\n    },\r\n    getUrlItem:function(name){\r\n        var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\r\n        var r = window.location.search.substr(1).match(reg);\r\n        if (r != null) return unescape(r[2]); return null;\r\n    },\r\n    getPrize:function(){    /*抽中红包，获取奖项*/\r\n        var _this = this;\r\n\r\n        this.resData = {};\r\n\r\n        var ajaxTimeoutTest = $.ajax({\r\n            url: '/url/advert',\r\n            type: \"post\",\r\n            contentType: \"application/json;\",\r\n            data: JSON.stringify(_this.collReqData()),\r\n            timeout: 3000,\r\n            complete : function(XMLHttpRequest,status){ //请求完成后最终执行参数\r\n                if(status=='timeout'){//超时,status还有success,error等值的情况\r\n                    ajaxTimeoutTest.abort();\r\n                    _this.getPrizeFail();\r\n                }\r\n                _this.resData = XMLHttpRequest.responseJSON||{};\r\n                if (_this.resData.error_code == 0) {\r\n                    _this.limitTimes = _this.resData.limitTimes;\r\n                }\r\n            }\r\n        });\r\n    },\r\n    getPrizeFail:function(){\r\n        if (this.resData['error_code'] && this.resData['limitTimes'] >= 0 ){\r\n            this.limitTimes = this.resData['limitTimes'];\r\n        }\r\n        this.showNoResult();\r\n    },\r\n    showPrize:function(){\r\n        var _this = this;\r\n        var $countZa = $('#countZa');\r\n        this.limitTimes = this.resData&&this.resData.limitTimes;\r\n        $countZa.text(this.limitTimes||0);\r\n\r\n        var $popPosition = $('.popShowPrize');\r\n        //请求成功，发送检波\r\n        if (_this.resData['adms']) {\r\n            var adMsg = _this.resData['adms'][0];\r\n\r\n            $popPosition.find('.prizes-img').attr('src',adMsg.imgurls);\r\n            $popPosition.find('.prizes-name').text(adMsg.title);\r\n\r\n            _this.showLog(adMsg['imptrackers']);\r\n\r\n\r\n            $('.prizes-img,.prizes-name,.goto')\r\n                .unbind( \"click\" )\r\n                .on('click',function () {\r\n                    _this.clickLog(adMsg['clktrackers']);\r\n\r\n                    setTimeout(function () {\r\n                        window.location.href = adMsg['clkurl']; //跳转页面\r\n                    },600);\r\n                });\r\n        }\r\n        $popPosition.show();\r\n    },\r\n    showNoResult:function(){\r\n        let $popPosition = $('.popNoResult');\r\n        $popPosition.find('.prizes-no-img').attr('src','./dist/img/fish/prizes-pop-fail.png');\r\n        $popPosition.fadeIn();\r\n    },\r\n    showLimited:function(){\r\n        let $popPosition = $('.popNoResult');\r\n        $popPosition.find('.prizes-no-img').attr('src','./dist/img/fish/prizes-pop-no.png');\r\n        $popPosition.fadeIn();\r\n    },\r\n    hidePrize:function(){\r\n        var $popResult = $('.popShowPrize ,.popNoResult');\r\n        $popResult.fadeOut();\r\n\r\n        $('.ox-catch').hide();\r\n        $('.rope-catch').hide();\r\n        $('.rope-break ').show();\r\n        this.catching = false;\r\n    },\r\n    showLog:function(urlArray){\r\n        if (urlArray.length < 1 ) return;\r\n        for(var i=0;i<urlArray.length;i++){\r\n            $('#contaner').append('<img class=\"imptrace\" src=\"'+ urlArray[i] +'\" />');\r\n        }\r\n    },\r\n    clickLog:function(urlArray){\r\n        if (urlArray.length < 1 ) return;\r\n        for(var j=0;j<urlArray.length;j++){\r\n            $('#contaner').append('<img class=\"clicktrace\" src=\"'+ urlArray[j] +'\" />');\r\n        }\r\n    },\r\n    getNetwork:function(){      /*获取网络环境*/\r\n        var t = null,\r\n            netType = 0\r\n            , e = window.navigator.userAgent\r\n            , n = navigator.connection || navigator.mozConnection || navigator.webkitConnection;\r\n\r\n        if (/MicroMessenger/.test(e))\r\n            if (/NetType/.test(e)) {\r\n                var i = e.match(/NetType\\/(\\S*)/);\r\n                t = i[1];\r\n            } else\r\n                document.addEventListener(\"WeixinJSBridgeReady\", function() {\r\n                    WeixinJSBridge.invoke(\"getNetworkType\", {}, function(e) {\r\n                        t = e.err_msg\r\n                    });\r\n                });\r\n        else if (n) {\r\n            var o = n.type;\r\n            t = o;\r\n        }\r\n        var r = this.netTypeArray;\r\n        if (typeof(t) != 'string') t = 'undefined';\r\n        t = t.toLowerCase();\r\n        for (var k=0;k<r.length;k++){\r\n            if(t.indexOf(r[k]) > -1) {\r\n                netType = k;\r\n                break;\r\n            }\r\n        }\r\n        return netType;\r\n    },\r\n    collReqData:function(){\r\n        var reqData = {\r\n            template_id: window.CFG['template_id'],\r\n            device_id:  store.get('device_id') || this.getUrlItem('device_id'),\r\n            app_id: store.get('app_id') ||this.getUrlItem('app_id'),\r\n            adslot_id: store.get('adslot_id') ||this.getUrlItem('adslot_id'),\r\n            connect_type: this.getNetwork(),\r\n            width:  $(window).width(),\r\n            height: $(window).height(),\r\n            timestamp: +new Date(),\r\n        };\r\n        return reqData;\r\n    }\r\n};\r\n\r\n\r\nnew Fish();"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvZmlzaC9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsUUFBUSxHQUFSLENBQVksTUFBWjs7QUFFQSxJQUFJLE9BQU8sU0FBUCxJQUFPLEdBQVU7QUFDakIsU0FBSyxLQUFMLEdBQWEsRUFBYjtBQUNBLFNBQUssTUFBTCxHQUFjLENBQWQ7QUFDQSxTQUFLLFFBQUwsR0FBZ0IsS0FBaEI7QUFDQSxTQUFLLFVBQUwsR0FBa0IsQ0FBbEI7QUFDQSxTQUFLLE9BQUwsR0FBZSxJQUFmO0FBQ0EsU0FBSyxZQUFMLEdBQW9CLENBQUMsV0FBRCxFQUFjLFVBQWQsRUFBMEIsTUFBMUIsRUFBa0MsTUFBbEMsRUFBMEMsSUFBMUMsRUFBZ0QsSUFBaEQsRUFBcUQsSUFBckQsQ0FBcEI7QUFDQSxTQUFLLE1BQUwsR0FBYyxFQUFFLFdBQUYsQ0FBZDtBQUNBLFNBQUssSUFBTDtBQUNILENBVEQ7QUFVQSxLQUFLLFNBQUwsR0FBaUI7QUFDYixpQkFBYSxJQURBO0FBRWIsVUFBTSxnQkFBWTtBQUNkLFlBQUksUUFBUSxJQUFaO0FBQ0EsYUFBSyxVQUFMO0FBQ0EsYUFBSyxRQUFMO0FBQ0EsYUFBSyxRQUFMO0FBQ0EsYUFBSyxTQUFMO0FBQ0EsbUJBQVcsWUFBVTtBQUNqQixrQkFBTSxPQUFOO0FBQ0gsU0FGRCxFQUVFLElBRkY7QUFHSCxLQVhZO0FBWWIsZUFBVSxxQkFBVTtBQUNoQixZQUFJLFFBQVEsSUFBWjtBQUNBLFVBQUUsTUFBRixFQUFVLEVBQVYsQ0FBYSxVQUFiLEVBQXdCLFlBQXhCLEVBQXNDLFlBQVc7QUFDN0MsZ0JBQUcsS0FBSyxRQUFSLEVBQWtCOztBQUdsQixnQkFBRyxDQUFDLE1BQU0sVUFBUCxJQUFtQixNQUFNLFVBQU4sSUFBa0IsQ0FBeEMsRUFBMEM7QUFDdEMsc0JBQU0sV0FBTjtBQUNBLHNCQUFNLGdCQUFOO0FBQ0gsYUFIRCxNQUdL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LEtBQXlCLEtBQUssVUFBTCxDQUFnQixXQUFoQixDQUoxQjtBQUtWLDBCQUFjLEtBQUssVUFBTCxFQUxKO0FBTVYsbUJBQVEsRUFBRSxNQUFGLEVBQVUsS0FBVixFQU5FO0FBT1Ysb0JBQVEsRUFBRSxNQUFGLEVBQVUsTUFBVixFQVBFO0FBUVYsdUJBQVcsQ0FBQyxJQUFJLElBQUo7QUFSRixTQUFkO0FBVUEsZUFBTyxPQUFQO0FBQ0g7QUEvUlksQ0FBakI7O0FBbVNBLElBQUksSUFBSiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJjb25zb2xlLmxvZygnZmlzaCcpO1xyXG5cclxudmFyIEZpc2ggPSBmdW5jdGlvbigpe1xyXG4gICAgdGhpcy5zb2xvMyA9ICcnO1xyXG4gICAgdGhpcy5zb2xvMzEgPSAxO1xyXG4gICAgdGhpcy5jYXRjaGluZyA9IGZhbHNlO1xyXG4gICAgdGhpcy5saW1pdFRpbWVzID0gMDtcclxuICAgIHRoaXMucmVzRGF0YSA9IG51bGw7XHJcbiAgICB0aGlzLm5ldFR5cGVBcnJheSA9IFtcInVuZGVmaW5lZFwiLCBcImV0aGVybmV0XCIsIFwid2lmaVwiLCBcImVkZ2VcIiwgXCIyZ1wiLCBcIjNnXCIsXCI0Z1wiXTtcclxuICAgIHRoaXMuJHN0YXJ0ID0gJCgnI3N0YXJ0QnRuJyk7XHJcbiAgICB0aGlzLmluaXQoKTtcclxufTtcclxuRmlzaC5wcm90b3R5cGUgPSB7XHJcbiAgICBjb25zdHJ1Y3RvcjogRmlzaCxcclxuICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuaW5pdFN3aXBlcigpO1xyXG4gICAgICAgIHRoaXMuc2V0Q2FjaGUoKTtcclxuICAgICAgICB0aGlzLmdldFRpbWVzKCk7XHJcbiAgICAgICAgdGhpcy5iaW5kRXZlbnQoKTtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIF90aGlzLmxlZnRBZGQoKTtcclxuICAgICAgICB9LDEwMDApO1xyXG4gICAgfSxcclxuICAgIGJpbmRFdmVudDpmdW5jdGlvbigpe1xyXG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgJChcImJvZHlcIikub24oXCJ0b3VjaGVuZFwiLCcuc3RhcnQtYnRuJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuY2F0Y2hpbmcpIHJldHVybjtcclxuXHJcblxyXG4gICAgICAgICAgICBpZighX3RoaXMubGltaXRUaW1lc3x8X3RoaXMubGltaXRUaW1lczw9MCl7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zaG93TGltaXRlZCgpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0TGltaXRBbmFseXNpcygpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldENsaWNrQW5hbHlzaXMoKTtcclxuICAgICAgICAgICAgICAgICQoJyNjb3VudFphJykudGV4dChfdGhpcy5saW1pdFRpbWVzLTEpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuY2F0Y2hpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZ2V0UHJpemUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAkKCcucm9wZS1icmVhaycpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICQoJy5yb3BlLWNhdGNoJykuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgJCgnI2NhdGNoT3gnKS5hZGRDbGFzcygneGFjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsZWZ0ZyA9ICQoJyNjYXRjaE94Jykub2Zmc2V0KCkubGVmdDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdG9wZyA9ICQoJyNjYXRjaE94Jykub2Zmc2V0KCkudG9wO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzb2xvcyA9ICQoJy5zb2xvJykuZmluZCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ZGEgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvbG9zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtaWRkbGVYID0gc29sb3MuZXEoaSkub2Zmc2V0KCkubGVmdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1pZGRsZVg+MTAwJiZtaWRkbGVYPDI1MCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhkYSA9IHNvbG9zLmVxKGkpLmF0dHIoJ2luZGV4ZGF0YScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc29sb3MuZXEoaSkuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleGQgPSB1bmRlZmluZWQ/MDppbmRleGRhO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyNjYXRjaE94IC5veC1jYXRjaCcpLmVxKGluZGV4ZCkuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyNjYXRjaE94JykuYWRkQ2xhc3MoJ29hY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNjYXRjaE94JykucmVtb3ZlQ2xhc3MoJ29hY3RpdmUnKS5yZW1vdmVDbGFzcygneGFjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gX3RoaXMucmVzRGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0ICYmIHJlc3VsdC5lcnJvcl9jb2RlID09IDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2hvd1ByaXplKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5nZXRQcml6ZUZhaWwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sODAwKVxyXG4gICAgICAgICAgICAgICAgfSwxMDAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL+WFs+mXreWllumhueW8ueeql1xyXG4gICAgICAgICQoJy5wb3BTaG93UHJpemUnKS5vbigndG91Y2hzdGFydCcsJy5jbG9zZSwuY2xvc2UtYnRuJyxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBfdGhpcy5oaWRlUHJpemUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvL+WFs+mXreW8ueeql1xyXG4gICAgICAgICQoJy5wb3BOb1Jlc3VsdCcpLm9uKCd0b3VjaHN0YXJ0JywnLmNsb3NlLC5jbG9zZS1idG4nLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIF90aGlzLmhpZGVQcml6ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIGluaXRTd2lwZXI6ZnVuY3Rpb24oKXtcclxuICAgICAgICBpZighU3dpcGVyKSByZXR1cm47XHJcbiAgICAgICAgbmV3IFN3aXBlcignLnN3aXBlci1jb250YWluZXInLCB7XHJcbiAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDQsXHJcbiAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMjAsXHJcbiAgICAgICAgICAgIGZyZWVNb2RlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgc2V0Q2xpY2tBbmFseXNpczpmdW5jdGlvbigpe1xyXG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYoIXdpbmRvdy5faG10KXtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0Q2xpY2tBbmFseXNpcygpO1xyXG4gICAgICAgICAgICB9LDUwMClcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgd2luZG93Ll9obXQucHVzaChbJ190cmFja0V2ZW50JywgJ+aNlemxvOWBh+aXpScsJ+aKveWllicsICd0NyddKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2V0TGltaXRBbmFseXNpczpmdW5jdGlvbigpe1xyXG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYoIXdpbmRvdy5faG10KXtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0TGltaXRBbmFseXNpcygpO1xyXG4gICAgICAgICAgICB9LDUwMClcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgd2luZG93Ll9obXQucHVzaChbJ190cmFja0V2ZW50JywgJ+aNlemxvOWBh+aXpS3mrKHmlbDlt7LnlKjlrownLCfmir3lpZYnLCAndDcnXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGxlZnRBZGQ6ZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBzcGVlZCA9IE1hdGguY2VpbChNYXRoLnJhbmRvbSgpKjEwKTtcclxuICAgICAgICBpZiAoc3BlZWQ+Nikge3NwZWVkPTV9XHJcbiAgICAgICAgaWYgKHNwZWVkPDMpIHtzcGVlZD01fVxyXG4gICAgICAgICQoJy5zb2xvJykuYXBwZW5kKCc8ZGl2IGlkPVwib3gnK3RoaXMuc29sbzMrJ1wiIGluZGV4ZGF0YT1cIicrdGhpcy5zb2xvMysnXCIgY2xhc3M9XCJveC1ncmV5IGFjdGl2ZTFcIj48aW1nIHNyYz1cIi4vZGlzdC9pbWcvZmlzaC9tb3ZlJyt0aGlzLnNvbG8zMSsnLnBuZ1wiPjwvZGl2PicpO1xyXG4gICAgICAgICQoJyNveCcrdGhpcy5zb2xvMykuY3NzKHsnLXdlYmtpdC10cmFuc2Zvcm0nOid0cmFuc2xhdGUzZCgtNDByZW0sIDBweCwgMHB4KScsJy13ZWJraXQtdHJhbnNpdGlvbic6J3RyYW5zZm9ybSAnK3NwZWVkKydzIGxpbmVhciAwcyd9KTtcclxuICAgICAgICB0aGlzLnNvbG8zMSsrO1xyXG4gICAgICAgIHRoaXMuc29sbzMrKztcclxuICAgICAgICB2YXIgbGVuZ3RoYSA9JCgnLnNvbG8nKS5maW5kKCdkaXYnKS5sZW5ndGg7XHJcbiAgICAgICAgaWYgKGxlbmd0aGE9PTgpIHtcclxuICAgICAgICAgICAgJCgnLnNvbG8nKS5maW5kKCdkaXYnKS5lcSgwKS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuc29sbzM9PTQpIHtcclxuICAgICAgICAgICAgdGhpcy5zb2xvMyA9ICcnO1xyXG4gICAgICAgICAgICB0aGlzLnNvbG8zMSA9IDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgX3RoaXMubGVmdEFkZCgpO1xyXG4gICAgICAgIH0sMTAwMClcclxuICAgIH0sXHJcbiAgICBnZXRUaW1lczpmdW5jdGlvbigpeyAgICAvKuiOt+WPluaKveWlluasoeaVsCovXHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgZGV2aWNlSWQgPSBzdG9yZS5nZXQoJ2RldmljZV9pZCcpIHx8IHRoaXMuZ2V0VXJsSXRlbSgnZGV2aWNlX2lkJyk7XHJcblxyXG4gICAgICAgIGlmIChkZXZpY2VJZCAhPSAnbnVsbCcpIHtcclxuICAgICAgICAgICAgdmFyIHRpbWVzRGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlX2lkOiB3aW5kb3cuQ0ZHWyd0ZW1wbGF0ZV9pZCddLFxyXG4gICAgICAgICAgICAgICAgYXBwX2lkOiBzdG9yZS5nZXQoJ2FwcF9pZCcpIHx8dGhpcy5nZXRVcmxJdGVtKCdhcHBfaWQnKSxcclxuICAgICAgICAgICAgICAgIGFkc2xvdF9pZDogc3RvcmUuZ2V0KCdhZHNsb3RfaWQnKSB8fHRoaXMuZ2V0VXJsSXRlbSgnYWRzbG90X2lkJyksXHJcbiAgICAgICAgICAgICAgICBkZXZpY2VfaWQ6IGRldmljZUlkLFxyXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiArbmV3IERhdGUoKSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHVybDogJy91cmwvaW5pdCcsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcInBvc3RcIixcclxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb247XCIsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh0aW1lc0RhdGEpLFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGltaXRUaW1lcyA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxpbWl0VGltZXMgPSByZXN1bHQubGltaXRUaW1lcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2NvdW50WmEnKS50ZXh0KF90aGlzLmxpbWl0VGltZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNldENhY2hlOmZ1bmN0aW9uKCl7ICAgIC8q6K6+572u57yT5a2YKi9cclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gQ0ZHKXtcclxuICAgICAgICAgICAgaWYgKENGR1trZXldID09ICcnICYmIHRoaXMuZ2V0VXJsSXRlbShrZXkpICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIENGR1trZXldID0gdGhpcy5nZXRVcmxJdGVtKGtleSk7XHJcbiAgICAgICAgICAgICAgICBzdG9yZS5zZXQoa2V5LENGR1trZXldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBnZXRVcmxJdGVtOmZ1bmN0aW9uKG5hbWUpe1xyXG4gICAgICAgIHZhcsKgcmVnwqA9wqBuZXfCoFJlZ0V4cChcIihefCYpXCLCoCvCoG5hbWXCoCvCoFwiPShbXiZdKikoJnwkKVwiLMKgXCJpXCIpO1xyXG4gICAgICAgIHZhcsKgcsKgPcKgd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHIoMSkubWF0Y2gocmVnKTtcclxuICAgICAgICBpZsKgKHLCoCE9wqBudWxsKcKgcmV0dXJuwqB1bmVzY2FwZShyWzJdKTvCoHJldHVybsKgbnVsbDtcclxuICAgIH0sXHJcbiAgICBnZXRQcml6ZTpmdW5jdGlvbigpeyAgICAvKuaKveS4ree6ouWMhe+8jOiOt+WPluWllumhuSovXHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICAgICAgdGhpcy5yZXNEYXRhID0ge307XHJcblxyXG4gICAgICAgIHZhciBhamF4VGltZW91dFRlc3QgPSAkLmFqYXgoe1xyXG4gICAgICAgICAgICB1cmw6ICcvdXJsL2FkdmVydCcsXHJcbiAgICAgICAgICAgIHR5cGU6IFwicG9zdFwiLFxyXG4gICAgICAgICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uO1wiLFxyXG4gICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShfdGhpcy5jb2xsUmVxRGF0YSgpKSxcclxuICAgICAgICAgICAgdGltZW91dDogMzAwMCxcclxuICAgICAgICAgICAgY29tcGxldGUgOiBmdW5jdGlvbihYTUxIdHRwUmVxdWVzdCxzdGF0dXMpeyAvL+ivt+axguWujOaIkOWQjuacgOe7iOaJp+ihjOWPguaVsFxyXG4gICAgICAgICAgICAgICAgaWYoc3RhdHVzPT0ndGltZW91dCcpey8v6LaF5pe2LHN0YXR1c+i/mOaciXN1Y2Nlc3MsZXJyb3LnrYnlgLznmoTmg4XlhrVcclxuICAgICAgICAgICAgICAgICAgICBhamF4VGltZW91dFRlc3QuYWJvcnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5nZXRQcml6ZUZhaWwoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF90aGlzLnJlc0RhdGEgPSBYTUxIdHRwUmVxdWVzdC5yZXNwb25zZUpTT058fHt9O1xyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnJlc0RhdGEuZXJyb3JfY29kZSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubGltaXRUaW1lcyA9IF90aGlzLnJlc0RhdGEubGltaXRUaW1lcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIGdldFByaXplRmFpbDpmdW5jdGlvbigpe1xyXG4gICAgICAgIGlmICh0aGlzLnJlc0RhdGFbJ2Vycm9yX2NvZGUnXSAmJiB0aGlzLnJlc0RhdGFbJ2xpbWl0VGltZXMnXSA+PSAwICl7XHJcbiAgICAgICAgICAgIHRoaXMubGltaXRUaW1lcyA9IHRoaXMucmVzRGF0YVsnbGltaXRUaW1lcyddO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNob3dOb1Jlc3VsdCgpO1xyXG4gICAgfSxcclxuICAgIHNob3dQcml6ZTpmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyICRjb3VudFphID0gJCgnI2NvdW50WmEnKTtcclxuICAgICAgICB0aGlzLmxpbWl0VGltZXMgPSB0aGlzLnJlc0RhdGEmJnRoaXMucmVzRGF0YS5saW1pdFRpbWVzO1xyXG4gICAgICAgICRjb3VudFphLnRleHQodGhpcy5saW1pdFRpbWVzfHwwKTtcclxuXHJcbiAgICAgICAgdmFyICRwb3BQb3NpdGlvbiA9ICQoJy5wb3BTaG93UHJpemUnKTtcclxuICAgICAgICAvL+ivt+axguaIkOWKn++8jOWPkemAgeajgOazolxyXG4gICAgICAgIGlmIChfdGhpcy5yZXNEYXRhWydhZG1zJ10pIHtcclxuICAgICAgICAgICAgdmFyIGFkTXNnID0gX3RoaXMucmVzRGF0YVsnYWRtcyddWzBdO1xyXG5cclxuICAgICAgICAgICAgJHBvcFBvc2l0aW9uLmZpbmQoJy5wcml6ZXMtaW1nJykuYXR0cignc3JjJyxhZE1zZy5pbWd1cmxzKTtcclxuICAgICAgICAgICAgJHBvcFBvc2l0aW9uLmZpbmQoJy5wcml6ZXMtbmFtZScpLnRleHQoYWRNc2cudGl0bGUpO1xyXG5cclxuICAgICAgICAgICAgX3RoaXMuc2hvd0xvZyhhZE1zZ1snaW1wdHJhY2tlcnMnXSk7XHJcblxyXG5cclxuICAgICAgICAgICAgJCgnLnByaXplcy1pbWcsLnByaXplcy1uYW1lLC5nb3RvJylcclxuICAgICAgICAgICAgICAgIC51bmJpbmQoIFwiY2xpY2tcIiApXHJcbiAgICAgICAgICAgICAgICAub24oJ2NsaWNrJyxmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY2xpY2tMb2coYWRNc2dbJ2Nsa3RyYWNrZXJzJ10pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBhZE1zZ1snY2xrdXJsJ107IC8v6Lez6L2s6aG16Z2iXHJcbiAgICAgICAgICAgICAgICAgICAgfSw2MDApO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRwb3BQb3NpdGlvbi5zaG93KCk7XHJcbiAgICB9LFxyXG4gICAgc2hvd05vUmVzdWx0OmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgbGV0ICRwb3BQb3NpdGlvbiA9ICQoJy5wb3BOb1Jlc3VsdCcpO1xyXG4gICAgICAgICRwb3BQb3NpdGlvbi5maW5kKCcucHJpemVzLW5vLWltZycpLmF0dHIoJ3NyYycsJy4vZGlzdC9pbWcvZmlzaC9wcml6ZXMtcG9wLWZhaWwucG5nJyk7XHJcbiAgICAgICAgJHBvcFBvc2l0aW9uLmZhZGVJbigpO1xyXG4gICAgfSxcclxuICAgIHNob3dMaW1pdGVkOmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgbGV0ICRwb3BQb3NpdGlvbiA9ICQoJy5wb3BOb1Jlc3VsdCcpO1xyXG4gICAgICAgICRwb3BQb3NpdGlvbi5maW5kKCcucHJpemVzLW5vLWltZycpLmF0dHIoJ3NyYycsJy4vZGlzdC9pbWcvZmlzaC9wcml6ZXMtcG9wLW5vLnBuZycpO1xyXG4gICAgICAgICRwb3BQb3NpdGlvbi5mYWRlSW4oKTtcclxuICAgIH0sXHJcbiAgICBoaWRlUHJpemU6ZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgJHBvcFJlc3VsdCA9ICQoJy5wb3BTaG93UHJpemUgLC5wb3BOb1Jlc3VsdCcpO1xyXG4gICAgICAgICRwb3BSZXN1bHQuZmFkZU91dCgpO1xyXG5cclxuICAgICAgICAkKCcub3gtY2F0Y2gnKS5oaWRlKCk7XHJcbiAgICAgICAgJCgnLnJvcGUtY2F0Y2gnKS5oaWRlKCk7XHJcbiAgICAgICAgJCgnLnJvcGUtYnJlYWsgJykuc2hvdygpO1xyXG4gICAgICAgIHRoaXMuY2F0Y2hpbmcgPSBmYWxzZTtcclxuICAgIH0sXHJcbiAgICBzaG93TG9nOmZ1bmN0aW9uKHVybEFycmF5KXtcclxuICAgICAgICBpZiAodXJsQXJyYXkubGVuZ3RoIDwgMSApIHJldHVybjtcclxuICAgICAgICBmb3IodmFyIGk9MDtpPHVybEFycmF5Lmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAkKCcjY29udGFuZXInKS5hcHBlbmQoJzxpbWcgY2xhc3M9XCJpbXB0cmFjZVwiIHNyYz1cIicrIHVybEFycmF5W2ldICsnXCIgLz4nKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgY2xpY2tMb2c6ZnVuY3Rpb24odXJsQXJyYXkpe1xyXG4gICAgICAgIGlmICh1cmxBcnJheS5sZW5ndGggPCAxICkgcmV0dXJuO1xyXG4gICAgICAgIGZvcih2YXIgaj0wO2o8dXJsQXJyYXkubGVuZ3RoO2orKyl7XHJcbiAgICAgICAgICAgICQoJyNjb250YW5lcicpLmFwcGVuZCgnPGltZyBjbGFzcz1cImNsaWNrdHJhY2VcIiBzcmM9XCInKyB1cmxBcnJheVtqXSArJ1wiIC8+Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGdldE5ldHdvcms6ZnVuY3Rpb24oKXsgICAgICAvKuiOt+WPlue9kee7nOeOr+WigyovXHJcbiAgICAgICAgdmFyIHQgPSBudWxsLFxyXG4gICAgICAgICAgICBuZXRUeXBlID0gMFxyXG4gICAgICAgICAgICAsIGUgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudFxyXG4gICAgICAgICAgICAsIG4gPSBuYXZpZ2F0b3IuY29ubmVjdGlvbiB8fCBuYXZpZ2F0b3IubW96Q29ubmVjdGlvbiB8fCBuYXZpZ2F0b3Iud2Via2l0Q29ubmVjdGlvbjtcclxuXHJcbiAgICAgICAgaWYgKC9NaWNyb01lc3Nlbmdlci8udGVzdChlKSlcclxuICAgICAgICAgICAgaWYgKC9OZXRUeXBlLy50ZXN0KGUpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaSA9IGUubWF0Y2goL05ldFR5cGVcXC8oXFxTKikvKTtcclxuICAgICAgICAgICAgICAgIHQgPSBpWzFdO1xyXG4gICAgICAgICAgICB9IGVsc2VcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJXZWl4aW5KU0JyaWRnZVJlYWR5XCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIFdlaXhpbkpTQnJpZGdlLmludm9rZShcImdldE5ldHdvcmtUeXBlXCIsIHt9LCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHQgPSBlLmVycl9tc2dcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIGVsc2UgaWYgKG4pIHtcclxuICAgICAgICAgICAgdmFyIG8gPSBuLnR5cGU7XHJcbiAgICAgICAgICAgIHQgPSBvO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgciA9IHRoaXMubmV0VHlwZUFycmF5O1xyXG4gICAgICAgIGlmICh0eXBlb2YodCkgIT0gJ3N0cmluZycpIHQgPSAndW5kZWZpbmVkJztcclxuICAgICAgICB0ID0gdC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIGZvciAodmFyIGs9MDtrPHIubGVuZ3RoO2srKyl7XHJcbiAgICAgICAgICAgIGlmKHQuaW5kZXhPZihyW2tdKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBuZXRUeXBlID0gaztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXRUeXBlO1xyXG4gICAgfSxcclxuICAgIGNvbGxSZXFEYXRhOmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIHJlcURhdGEgPSB7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlX2lkOiB3aW5kb3cuQ0ZHWyd0ZW1wbGF0ZV9pZCddLFxyXG4gICAgICAgICAgICBkZXZpY2VfaWQ6ICBzdG9yZS5nZXQoJ2RldmljZV9pZCcpIHx8IHRoaXMuZ2V0VXJsSXRlbSgnZGV2aWNlX2lkJyksXHJcbiAgICAgICAgICAgIGFwcF9pZDogc3RvcmUuZ2V0KCdhcHBfaWQnKSB8fHRoaXMuZ2V0VXJsSXRlbSgnYXBwX2lkJyksXHJcbiAgICAgICAgICAgIGFkc2xvdF9pZDogc3RvcmUuZ2V0KCdhZHNsb3RfaWQnKSB8fHRoaXMuZ2V0VXJsSXRlbSgnYWRzbG90X2lkJyksXHJcbiAgICAgICAgICAgIGNvbm5lY3RfdHlwZTogdGhpcy5nZXROZXR3b3JrKCksXHJcbiAgICAgICAgICAgIHdpZHRoOiAgJCh3aW5kb3cpLndpZHRoKCksXHJcbiAgICAgICAgICAgIGhlaWdodDogJCh3aW5kb3cpLmhlaWdodCgpLFxyXG4gICAgICAgICAgICB0aW1lc3RhbXA6ICtuZXcgRGF0ZSgpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIHJlcURhdGE7XHJcbiAgICB9XHJcbn07XHJcblxyXG5cclxubmV3IEZpc2goKTsiXX0="}