{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/goldenEggs/index.js"],"names":[],"mappings":"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","file":"goldenEggs.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\r\nfunction GoldenEggs(){\r\n    this.ajaxing = false;\r\n    this.danindex = 0;\r\n    this.zaload = true;\r\n    this.dansuiSwitch = true;\r\n    this.suiArr = [];\r\n    this.limitTimes = null;\r\n    this.resData = null;\r\n    this.netTypeArray = [\"undefined\", \"ethernet\", \"wifi\", \"edge\", \"2g\", \"3g\",\"4g\"];\r\n    this.timer = null;\r\n\r\n    this.init();\r\n}\r\nGoldenEggs.prototype = {\r\n    constructor: GoldenEggs,\r\n    init: function () {\r\n        this.setDefault(); //进入重置效果\r\n        this.jinDanAnimation('beat','.full',1000);\r\n        this.bindEvent();\r\n    },\r\n    bindEvent:function(){\r\n        var _this = this;\r\n        $('body').on('touchstart','#danlist .full',function(){\r\n            var obj = $(this);\r\n\r\n            if (obj.hasClass('eggbreak')) return;\r\n\r\n            if (_this.ajaxing){\r\n                return;\r\n            }\r\n\r\n            var eggOffset = $(this).offset();\r\n            var eggWidth = $(this).width();\r\n            var windowWidth = $(window).width();\r\n            var left = windowWidth-eggWidth-eggOffset.left;\r\n            var index = $(this).index();\r\n\r\n            if (_this.zaload == false) {\r\n                return;\r\n            }\r\n\r\n            if (!_this.limitTimes||_this.limitTimes<=0) {\r\n                _this.setLimitAnalysis();\r\n                return _this.showLimited();\r\n            }\r\n            if (_this.suiArr instanceof Array) {\r\n                _this.suiArr.push(index);\r\n                window.store.set('sui',_this.suiArr);\r\n            }\r\n\r\n            _this.setClickAnalysis();\r\n            _this.dansuiSwitch = false;\r\n            obj.removeClass('full').removeClass('beat').removeClass('beat1');\r\n            _this.zaload = false;\r\n            $(\".chuizi\").animate({top:eggOffset.top-50,right:left-30},1000,function(){\r\n\r\n                obj.addClass('eggbreak');\r\n                setTimeout(function(){\r\n                    _this.zaload = true;\r\n                    $(\".chuizi\").animate({top:'5.3rem',right:'0.38rem'},300);\r\n                    _this.getPrize();\r\n                },500);\r\n                _this.danindex = 0;\r\n                $('#countZa').text(_this.limitTimes-1>=0?_this.limitTimes-1:0);\r\n\r\n            });\r\n        });\r\n\r\n        //关闭弹窗\r\n        $('.pop-position').on('touchstart','.close,.close-btn',function(){\r\n            _this.hidePrize();\r\n        });\r\n\r\n    },\r\n    getSuiArr:function(){\r\n        return window.store.get('sui')==undefined?[]:window.store.get('sui');\r\n    },\r\n    setDefault:function(){\r\n        this.setCache();\r\n        this.setBroken();\r\n        this.getTimes();\r\n    },\r\n    setBroken:function(){\r\n        this.suiArr = this.getSuiArr();\r\n        var $danLi = $('#danlist').find('li');\r\n        $danLi.removeClass('eggbreak').addClass('full');\r\n        for (var i = 0; i < this.suiArr.length; i++) {\r\n            $danLi.eq(this.suiArr[i]).addClass('eggbreak').removeClass('full');\r\n        }\r\n    },\r\n    setClickAnalysis:function(){\r\n        let _this = this;\r\n        if(!window._hmt){\r\n            setTimeout(function(){\r\n                _this.setClickAnalysis();\r\n            },500)\r\n        }else{\r\n            window._hmt.push(['_trackEvent', '砸金蛋','抽奖', 't4']);\r\n        }\r\n    },\r\n    setLimitAnalysis:function(){\r\n        let _this = this;\r\n        if(!window._hmt){\r\n            setTimeout(function(){\r\n                _this.setLimitAnalysis();\r\n            },500)\r\n        }else{\r\n            window._hmt.push(['_trackEvent', '砸金蛋-次数已用完','抽奖', 't4']);\r\n        }\r\n    },\r\n    jinDanAnimation:function(aniClass,son,time){\r\n        var _this = this;\r\n        this.timer = setInterval(function(){\r\n            if (_this.dansuiSwitch==true) {\r\n                _this.danindex = _this.danindex == $('#danlist').find('.full').length?0: _this.danindex;\r\n                $('#danlist').find('.full').eq(_this.danindex).addClass(aniClass).siblings(son).removeClass(aniClass);\r\n                _this.danindex++;\r\n            }else{\r\n                $('#danlist').find('.full').removeClass(aniClass);\r\n            }\r\n            if ($('#danlist').find('.full').length==1) {\r\n                $('#danlist').find('.full').removeClass(aniClass).addClass('beat1');\r\n            }\r\n        },time);\r\n    },\r\n    getTimes:function(){    /*获取抽奖次数*/\r\n        var _this = this;\r\n        var deviceId = store.get('device_id') || this.getUrlItem('device_id');\r\n\r\n        if (deviceId != 'null') {\r\n            var timesData = {\r\n                template_id: window.CFG['template_id'],\r\n                app_id: store.get('app_id') ||this.getUrlItem('app_id'),\r\n                adslot_id: store.get('adslot_id') ||this.getUrlItem('adslot_id'),\r\n                device_id: deviceId,\r\n                timestamp: +new Date(),\r\n            };\r\n            $.ajax({\r\n                url: '/url/init',\r\n                type: \"post\",\r\n                contentType: \"application/json;\",\r\n                data: JSON.stringify(timesData),\r\n                success: function (result) {\r\n                    if (result.limitTimes >= 0) {\r\n                        _this.limitTimes = result.limitTimes;\r\n                        $('#countZa').text(_this.limitTimes);\r\n                    }\r\n                    if(result.limitTimes >= 9){\r\n                        window.store.remove('sui');\r\n                        _this.setBroken();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    },\r\n    setCache:function(){    /*设置缓存*/\r\n        for (var key in CFG){\r\n            if (CFG[key] == '' && this.getUrlItem(key) != null) {\r\n                CFG[key] = this.getUrlItem(key);\r\n                store.set(key,CFG[key]);\r\n            }\r\n        }\r\n    },\r\n    getUrlItem:function(name){\r\n        var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\r\n        var r = window.location.search.substr(1).match(reg);\r\n        if (r != null) return unescape(r[2]); return null;\r\n    },\r\n    getPrize:function(){    /*抽中红包，获取奖项*/\r\n        var _this = this;\r\n\r\n        this.ajaxing = true;\r\n        this.resData = {};\r\n\r\n        var ajaxTimeoutTest = $.ajax({\r\n            url: '/url/advert',\r\n            type: \"post\",\r\n            contentType: \"application/json;\",\r\n            data: JSON.stringify(_this.collReqData()),\r\n            timeout: 30000,\r\n            complete : function(XMLHttpRequest,status){ //请求完成后最终执行参数\r\n                if(status=='timeout'){//超时,status还有success,error等值的情况\r\n                    ajaxTimeoutTest.abort();\r\n                    _this.getPrizeFail();\r\n                }\r\n            },\r\n            success: function (result) {\r\n                if(result && result.error_code == 0){\r\n                    _this.resData = result;\r\n                    _this.showPrize();\r\n                } else {\r\n                    _this.getPrizeFail();\r\n                }\r\n                _this.ajaxing = false;\r\n                if(result&&result.limitTimes){\r\n                    _this.limitTimes = result.limitTimes\r\n                }\r\n            },\r\n            error: function(err){\r\n                _this.getPrizeFail();\r\n                _this.ajaxing = false;\r\n                if(err&&err.limitTimes){\r\n                    _this.limitTimes = err.limitTimes\r\n                }\r\n            }\r\n        });\r\n    },\r\n    getPrizeFail:function(){\r\n        if (this.resData['error_code'] && this.resData['limitTimes'] > 0 ){\r\n            this.limitTimes = this.resData['limitTimes'];\r\n        }\r\n        this.showNoResult();\r\n    },\r\n    showPrize:function(){\r\n        var _this = this;\r\n        var $popPosition = $('.pop-position ');\r\n\r\n        var $countZa = $('#countZa');\r\n        this.limitTimes = this.resData&&this.resData.limitTimes;\r\n        $countZa.text(this.limitTimes||0);\r\n\r\n\r\n        //请求成功，发送检波\r\n        if (_this.resData['adms']) {\r\n            var adMsg = _this.resData['adms'][0];\r\n\r\n            $popPosition.find('.prizes-img').attr('src',adMsg.imgurls);\r\n            $popPosition.find('.prizes-name').text(adMsg.title);\r\n\r\n            _this.showLog(adMsg['imptrackers']);\r\n\r\n\r\n            $('.prizes-zoom-box,#hdgg_click_ad_btn')\r\n                .unbind( \"click\" )\r\n                .on('click',function () {\r\n                    _this.clickLog(adMsg['clktrackers']);\r\n\r\n                    setTimeout(function () {\r\n                        window.location.href = adMsg['clkurl']; //跳转页面\r\n                    },600);\r\n                });\r\n        }\r\n        $popPosition.find('.prizes-no-cont').hide();\r\n        $popPosition.find('.prizes-cont-box').removeClass('hdgg_result_hide_animation').addClass('hdgg_result_show_animation').show();\r\n        $popPosition.show();\r\n\r\n    },\r\n    showNoResult:function(){\r\n        var $popPosition = $('.pop-position ');\r\n        $popPosition.find('.prizes-no-cont').show();\r\n        $popPosition.find('.prizes-cont-box').hide();\r\n        $('.prizes-no-cont .prizes-no-img').attr('src','./dist/img/goldenEggs/prizes-pop-fail.png');\r\n        $popPosition.show();\r\n    },\r\n    showLimited:function(){\r\n        var $popPosition = $('.pop-position ');\r\n        $popPosition.find('.prizes-no-cont').show();\r\n        $popPosition.find('.prizes-cont-box').hide();\r\n        $('.prizes-no-cont .prizes-no-img').attr('src','./dist/img/goldenEggs/prizes-pop-no.png');\r\n        $popPosition.show();\r\n    },\r\n    hidePrize:function(){\r\n        var $popPosition = $('.pop-position ');\r\n        $popPosition.find('.prizes-no-cont').hide();\r\n        $popPosition.find('.prizes-cont-box').removeClass('hdgg_result_show_animation').addClass('hdgg_result_hide_animation');\r\n        $popPosition.fadeOut();\r\n        if(this.timer){\r\n            clearInterval(this.timer);\r\n            this.timer = null;\r\n        }\r\n        this.dansuiSwitch = true;\r\n        this.jinDanAnimation('beat','.full',1000);\r\n    },\r\n    showLog:function(urlArray){\r\n        if (urlArray.length < 1 ) return;\r\n        for(var i=0;i<urlArray.length;i++){\r\n            $('#contaner').append('<img class=\"imptrace\" src=\"'+ urlArray[i] +'\" />');\r\n        }\r\n    },\r\n    clickLog:function(urlArray){\r\n        if (urlArray.length < 1 ) return;\r\n        for(var j=0;j<urlArray.length;j++){\r\n            $('#contaner').append('<img class=\"clicktrace\" src=\"'+ urlArray[j] +'\" />');\r\n        }\r\n    },\r\n    getNetwork:function(){      /*获取网络环境*/\r\n        var t = null,\r\n            netType = 0\r\n            , e = window.navigator.userAgent\r\n            , n = navigator.connection || navigator.mozConnection || navigator.webkitConnection;\r\n\r\n        if (/MicroMessenger/.test(e))\r\n            if (/NetType/.test(e)) {\r\n                var i = e.match(/NetType\\/(\\S*)/);\r\n                t = i[1];\r\n            } else\r\n                document.addEventListener(\"WeixinJSBridgeReady\", function() {\r\n                    WeixinJSBridge.invoke(\"getNetworkType\", {}, function(e) {\r\n                        t = e.err_msg\r\n                    });\r\n                });\r\n        else if (n) {\r\n            var o = n.type;\r\n            t = o;\r\n        }\r\n        var r = this.netTypeArray;\r\n        if (typeof(t) != 'string') t = 'undefined';\r\n        t = t.toLowerCase();\r\n        for (var k=0;k<r.length;k++){\r\n            if(t.indexOf(r[k]) > -1) {\r\n                netType = k;\r\n                break;\r\n            }\r\n        }\r\n        return netType;\r\n    },\r\n    collReqData:function(){\r\n        var reqData = {\r\n            template_id: window.CFG['template_id'],\r\n            device_id:  store.get('device_id') || this.getUrlItem('device_id'),\r\n            app_id: store.get('app_id') ||this.getUrlItem('app_id'),\r\n            adslot_id: store.get('adslot_id') ||this.getUrlItem('adslot_id'),\r\n            connect_type: this.getNetwork(),\r\n            width:  $(window).width(),\r\n            height: $(window).height(),\r\n            timestamp: +new Date(),\r\n        };\r\n        return reqData;\r\n    }\r\n};\r\n\r\n\r\n\r\nmodule.exports = new GoldenEggs();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvZ29sZGVuRWdncy9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQ0EsU0FBUyxVQUFULEdBQXFCO0FBQ2pCLFNBQUssT0FBTCxHQUFlLEtBQWY7QUFDQSxTQUFLLFFBQUwsR0FBZ0IsQ0FBaEI7QUFDQSxTQUFLLE1BQUwsR0FBYyxJQUFkO0FBQ0EsU0FBSyxZQUFMLEdBQW9CLElBQXBCO0FBQ0EsU0FBSyxNQUFMLEdBQWMsRUFBZDtBQUNBLFNBQUssVUFBTCxHQUFrQixJQUFsQjtBQUNBLFNBQUssT0FBTCxHQUFlLElBQWY7QUFDQSxTQUFLLFlBQUwsR0FBb0IsQ0FBQyxXQUFELEVBQWMsVUFBZCxFQUEwQixNQUExQixFQUFrQyxNQUFsQyxFQUEwQyxJQUExQyxFQUFnRCxJQUFoRCxFQUFxRCxJQUFyRCxDQUFwQjtBQUNBLFNBQUssS0FBTCxHQUFhLElBQWI7O0FBRUEsU0FBSyxJQUFMO0FBQ0g7QUFDRCxXQUFXLFNBQVgsR0FBdUI7QUFDbkIsaUJBQWEsVUFETTtBQUVuQixVQUFNLGdCQUFZO0FBQ2QsYUFBSyxVQUFMLEdBRGMsQ0FDSztBQUNuQixhQUFLLGVBQUwsQ0FBcUIsTUFBckIsRUFBNEIsT0FBNUIsRUFBb0MsSUFBcEM7QUFDQSxhQUFLLFNBQUw7QUFDSCxLQU5rQjtBQU9uQixlQUFVLHFCQUFVO0FBQ2hCLFlBQUksUUFBUSxJQUFaO0FBQ0EsVUFBRSxNQUFGLEVBQVUsRUFBVixDQUFhLFlBQWIsRUFBMEIsZ0JBQTFCLEVBQTJDLFlBQVU7QUFDakQsZ0JBQUksTUFBTSxFQUFFLElBQUYsQ0FBVjs7QUFFQSxnQkFBSSxJQUFJLFFBQUosQ0FBYSxVQUFiLENBQUosRUFBOEI7O0FBRTlCLGdCQUFJLE1BQU0sT0FBVixFQUFrQjtBQUNkO0FBQ0g7O0FBRUQsZ0JBQUksWUFBWSxFQUFFLElBQUYsRUFBUSxNQUFSLEVBQWhCO0FBQ0EsZ0JB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QTlTa0I7QUErU25CLGlCQUFZLHVCQUFVO0FBQ2xCLFlBQUksVUFBVTtBQUNWLHlCQUFhLE9BQU8sR0FBUCxDQUFXLGFBQVgsQ0FESDtBQUVWLHVCQUFZLE1BQU0sR0FBTixDQUFVLFdBQVYsS0FBMEIsS0FBSyxVQUFMLENBQWdCLFdBQWhCLENBRjVCO0FBR1Ysb0JBQVEsTUFBTSxHQUFOLENBQVUsUUFBVixLQUFzQixLQUFLLFVBQUwsQ0FBZ0IsUUFBaEIsQ0FIcEI7QUFJVix1QkFBVyxNQUFNLEdBQU4sQ0FBVSxXQUFWLEtBQXlCLEtBQUssVUFBTCxDQUFnQixXQUFoQixDQUoxQjtBQUtWLDBCQUFjLEtBQUssVUFBTCxFQUxKO0FBTVYsbUJBQVEsRUFBRSxNQUFGLEVBQVUsS0FBVixFQU5FO0FBT1Ysb0JBQVEsRUFBRSxNQUFGLEVBQVUsTUFBVixFQVBFO0FBUVYsdUJBQVcsQ0FBQyxJQUFJLElBQUo7QUFSRixTQUFkO0FBVUEsZUFBTyxPQUFQO0FBQ0g7QUEzVGtCLENBQXZCOztBQWdVQSxPQUFPLE9BQVAsR0FBaUIsSUFBSSxVQUFKLEVBQWpCIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIlxyXG5mdW5jdGlvbiBHb2xkZW5FZ2dzKCl7XHJcbiAgICB0aGlzLmFqYXhpbmcgPSBmYWxzZTtcclxuICAgIHRoaXMuZGFuaW5kZXggPSAwO1xyXG4gICAgdGhpcy56YWxvYWQgPSB0cnVlO1xyXG4gICAgdGhpcy5kYW5zdWlTd2l0Y2ggPSB0cnVlO1xyXG4gICAgdGhpcy5zdWlBcnIgPSBbXTtcclxuICAgIHRoaXMubGltaXRUaW1lcyA9IG51bGw7XHJcbiAgICB0aGlzLnJlc0RhdGEgPSBudWxsO1xyXG4gICAgdGhpcy5uZXRUeXBlQXJyYXkgPSBbXCJ1bmRlZmluZWRcIiwgXCJldGhlcm5ldFwiLCBcIndpZmlcIiwgXCJlZGdlXCIsIFwiMmdcIiwgXCIzZ1wiLFwiNGdcIl07XHJcbiAgICB0aGlzLnRpbWVyID0gbnVsbDtcclxuXHJcbiAgICB0aGlzLmluaXQoKTtcclxufVxyXG5Hb2xkZW5FZ2dzLnByb3RvdHlwZSA9IHtcclxuICAgIGNvbnN0cnVjdG9yOiBHb2xkZW5FZ2dzLFxyXG4gICAgaW5pdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuc2V0RGVmYXVsdCgpOyAvL+i/m+WFpemHjee9ruaViOaenFxyXG4gICAgICAgIHRoaXMuamluRGFuQW5pbWF0aW9uKCdiZWF0JywnLmZ1bGwnLDEwMDApO1xyXG4gICAgICAgIHRoaXMuYmluZEV2ZW50KCk7XHJcbiAgICB9LFxyXG4gICAgYmluZEV2ZW50OmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAkKCdib2R5Jykub24oJ3RvdWNoc3RhcnQnLCcjZGFubGlzdCAuZnVsbCcsZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdmFyIG9iaiA9ICQodGhpcyk7XHJcblxyXG4gICAgICAgICAgICBpZiAob2JqLmhhc0NsYXNzKCdlZ2dicmVhaycpKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBpZiAoX3RoaXMuYWpheGluZyl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBlZ2dPZmZzZXQgPSAkKHRoaXMpLm9mZnNldCgpO1xyXG4gICAgICAgICAgICB2YXIgZWdnV2lkdGggPSAkKHRoaXMpLndpZHRoKCk7XHJcbiAgICAgICAgICAgIHZhciB3aW5kb3dXaWR0aCA9ICQod2luZG93KS53aWR0aCgpO1xyXG4gICAgICAgICAgICB2YXIgbGVmdCA9IHdpbmRvd1dpZHRoLWVnZ1dpZHRoLWVnZ09mZnNldC5sZWZ0O1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSAkKHRoaXMpLmluZGV4KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoX3RoaXMuemFsb2FkID09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghX3RoaXMubGltaXRUaW1lc3x8X3RoaXMubGltaXRUaW1lczw9MCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0TGltaXRBbmFseXNpcygpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnNob3dMaW1pdGVkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKF90aGlzLnN1aUFyciBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zdWlBcnIucHVzaChpbmRleCk7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuc3RvcmUuc2V0KCdzdWknLF90aGlzLnN1aUFycik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIF90aGlzLnNldENsaWNrQW5hbHlzaXMoKTtcclxuICAgICAgICAgICAgX3RoaXMuZGFuc3VpU3dpdGNoID0gZmFsc2U7XHJcbiAgICAgICAgICAgIG9iai5yZW1vdmVDbGFzcygnZnVsbCcpLnJlbW92ZUNsYXNzKCdiZWF0JykucmVtb3ZlQ2xhc3MoJ2JlYXQxJyk7XHJcbiAgICAgICAgICAgIF90aGlzLnphbG9hZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkKFwiLmNodWl6aVwiKS5hbmltYXRlKHt0b3A6ZWdnT2Zmc2V0LnRvcC01MCxyaWdodDpsZWZ0LTMwfSwxMDAwLGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgb2JqLmFkZENsYXNzKCdlZ2dicmVhaycpO1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnphbG9hZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5jaHVpemlcIikuYW5pbWF0ZSh7dG9wOic1LjNyZW0nLHJpZ2h0OicwLjM4cmVtJ30sMzAwKTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5nZXRQcml6ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSw1MDApO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZGFuaW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgJCgnI2NvdW50WmEnKS50ZXh0KF90aGlzLmxpbWl0VGltZXMtMT49MD9fdGhpcy5saW1pdFRpbWVzLTE6MCk7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy/lhbPpl63lvLnnqpdcclxuICAgICAgICAkKCcucG9wLXBvc2l0aW9uJykub24oJ3RvdWNoc3RhcnQnLCcuY2xvc2UsLmNsb3NlLWJ0bicsZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgX3RoaXMuaGlkZVByaXplKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfSxcclxuICAgIGdldFN1aUFycjpmdW5jdGlvbigpe1xyXG4gICAgICAgIHJldHVybiB3aW5kb3cuc3RvcmUuZ2V0KCdzdWknKT09dW5kZWZpbmVkP1tdOndpbmRvdy5zdG9yZS5nZXQoJ3N1aScpO1xyXG4gICAgfSxcclxuICAgIHNldERlZmF1bHQ6ZnVuY3Rpb24oKXtcclxuICAgICAgICB0aGlzLnNldENhY2hlKCk7XHJcbiAgICAgICAgdGhpcy5zZXRCcm9rZW4oKTtcclxuICAgICAgICB0aGlzLmdldFRpbWVzKCk7XHJcbiAgICB9LFxyXG4gICAgc2V0QnJva2VuOmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdGhpcy5zdWlBcnIgPSB0aGlzLmdldFN1aUFycigpO1xyXG4gICAgICAgIHZhciAkZGFuTGkgPSAkKCcjZGFubGlzdCcpLmZpbmQoJ2xpJyk7XHJcbiAgICAgICAgJGRhbkxpLnJlbW92ZUNsYXNzKCdlZ2dicmVhaycpLmFkZENsYXNzKCdmdWxsJyk7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN1aUFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAkZGFuTGkuZXEodGhpcy5zdWlBcnJbaV0pLmFkZENsYXNzKCdlZ2dicmVhaycpLnJlbW92ZUNsYXNzKCdmdWxsJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNldENsaWNrQW5hbHlzaXM6ZnVuY3Rpb24oKXtcclxuICAgICAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmKCF3aW5kb3cuX2htdCl7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldENsaWNrQW5hbHlzaXMoKTtcclxuICAgICAgICAgICAgfSw1MDApXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHdpbmRvdy5faG10LnB1c2goWydfdHJhY2tFdmVudCcsICfnoLjph5Hom4snLCfmir3lpZYnLCAndDQnXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNldExpbWl0QW5hbHlzaXM6ZnVuY3Rpb24oKXtcclxuICAgICAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmKCF3aW5kb3cuX2htdCl7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldExpbWl0QW5hbHlzaXMoKTtcclxuICAgICAgICAgICAgfSw1MDApXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHdpbmRvdy5faG10LnB1c2goWydfdHJhY2tFdmVudCcsICfnoLjph5Hom4st5qyh5pWw5bey55So5a6MJywn5oq95aWWJywgJ3Q0J10pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBqaW5EYW5BbmltYXRpb246ZnVuY3Rpb24oYW5pQ2xhc3Msc29uLHRpbWUpe1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5kYW5zdWlTd2l0Y2g9PXRydWUpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmRhbmluZGV4ID0gX3RoaXMuZGFuaW5kZXggPT0gJCgnI2Rhbmxpc3QnKS5maW5kKCcuZnVsbCcpLmxlbmd0aD8wOiBfdGhpcy5kYW5pbmRleDtcclxuICAgICAgICAgICAgICAgICQoJyNkYW5saXN0JykuZmluZCgnLmZ1bGwnKS5lcShfdGhpcy5kYW5pbmRleCkuYWRkQ2xhc3MoYW5pQ2xhc3MpLnNpYmxpbmdzKHNvbikucmVtb3ZlQ2xhc3MoYW5pQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZGFuaW5kZXgrKztcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAkKCcjZGFubGlzdCcpLmZpbmQoJy5mdWxsJykucmVtb3ZlQ2xhc3MoYW5pQ2xhc3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgkKCcjZGFubGlzdCcpLmZpbmQoJy5mdWxsJykubGVuZ3RoPT0xKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjZGFubGlzdCcpLmZpbmQoJy5mdWxsJykucmVtb3ZlQ2xhc3MoYW5pQ2xhc3MpLmFkZENsYXNzKCdiZWF0MScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSx0aW1lKTtcclxuICAgIH0sXHJcbiAgICBnZXRUaW1lczpmdW5jdGlvbigpeyAgICAvKuiOt+WPluaKveWlluasoeaVsCovXHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgZGV2aWNlSWQgPSBzdG9yZS5nZXQoJ2RldmljZV9pZCcpIHx8IHRoaXMuZ2V0VXJsSXRlbSgnZGV2aWNlX2lkJyk7XHJcblxyXG4gICAgICAgIGlmIChkZXZpY2VJZCAhPSAnbnVsbCcpIHtcclxuICAgICAgICAgICAgdmFyIHRpbWVzRGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlX2lkOiB3aW5kb3cuQ0ZHWyd0ZW1wbGF0ZV9pZCddLFxyXG4gICAgICAgICAgICAgICAgYXBwX2lkOiBzdG9yZS5nZXQoJ2FwcF9pZCcpIHx8dGhpcy5nZXRVcmxJdGVtKCdhcHBfaWQnKSxcclxuICAgICAgICAgICAgICAgIGFkc2xvdF9pZDogc3RvcmUuZ2V0KCdhZHNsb3RfaWQnKSB8fHRoaXMuZ2V0VXJsSXRlbSgnYWRzbG90X2lkJyksXHJcbiAgICAgICAgICAgICAgICBkZXZpY2VfaWQ6IGRldmljZUlkLFxyXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiArbmV3IERhdGUoKSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHVybDogJy91cmwvaW5pdCcsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcInBvc3RcIixcclxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb247XCIsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh0aW1lc0RhdGEpLFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGltaXRUaW1lcyA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxpbWl0VGltZXMgPSByZXN1bHQubGltaXRUaW1lcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2NvdW50WmEnKS50ZXh0KF90aGlzLmxpbWl0VGltZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZihyZXN1bHQubGltaXRUaW1lcyA+PSA5KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnN0b3JlLnJlbW92ZSgnc3VpJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNldEJyb2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNldENhY2hlOmZ1bmN0aW9uKCl7ICAgIC8q6K6+572u57yT5a2YKi9cclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gQ0ZHKXtcclxuICAgICAgICAgICAgaWYgKENGR1trZXldID09ICcnICYmIHRoaXMuZ2V0VXJsSXRlbShrZXkpICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIENGR1trZXldID0gdGhpcy5nZXRVcmxJdGVtKGtleSk7XHJcbiAgICAgICAgICAgICAgICBzdG9yZS5zZXQoa2V5LENGR1trZXldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBnZXRVcmxJdGVtOmZ1bmN0aW9uKG5hbWUpe1xyXG4gICAgICAgIHZhcsKgcmVnwqA9wqBuZXfCoFJlZ0V4cChcIihefCYpXCLCoCvCoG5hbWXCoCvCoFwiPShbXiZdKikoJnwkKVwiLMKgXCJpXCIpO1xyXG4gICAgICAgIHZhcsKgcsKgPcKgd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHIoMSkubWF0Y2gocmVnKTtcclxuICAgICAgICBpZsKgKHLCoCE9wqBudWxsKcKgcmV0dXJuwqB1bmVzY2FwZShyWzJdKTvCoHJldHVybsKgbnVsbDtcclxuICAgIH0sXHJcbiAgICBnZXRQcml6ZTpmdW5jdGlvbigpeyAgICAvKuaKveS4ree6ouWMhe+8jOiOt+WPluWllumhuSovXHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICAgICAgdGhpcy5hamF4aW5nID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnJlc0RhdGEgPSB7fTtcclxuXHJcbiAgICAgICAgdmFyIGFqYXhUaW1lb3V0VGVzdCA9ICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogJy91cmwvYWR2ZXJ0JyxcclxuICAgICAgICAgICAgdHlwZTogXCJwb3N0XCIsXHJcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb247XCIsXHJcbiAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KF90aGlzLmNvbGxSZXFEYXRhKCkpLFxyXG4gICAgICAgICAgICB0aW1lb3V0OiAzMDAwMCxcclxuICAgICAgICAgICAgY29tcGxldGUgOiBmdW5jdGlvbihYTUxIdHRwUmVxdWVzdCxzdGF0dXMpeyAvL+ivt+axguWujOaIkOWQjuacgOe7iOaJp+ihjOWPguaVsFxyXG4gICAgICAgICAgICAgICAgaWYoc3RhdHVzPT0ndGltZW91dCcpey8v6LaF5pe2LHN0YXR1c+i/mOaciXN1Y2Nlc3MsZXJyb3LnrYnlgLznmoTmg4XlhrVcclxuICAgICAgICAgICAgICAgICAgICBhamF4VGltZW91dFRlc3QuYWJvcnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5nZXRQcml6ZUZhaWwoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYocmVzdWx0ICYmIHJlc3VsdC5lcnJvcl9jb2RlID09IDApe1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJlc0RhdGEgPSByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2hvd1ByaXplKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmdldFByaXplRmFpbCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgX3RoaXMuYWpheGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaWYocmVzdWx0JiZyZXN1bHQubGltaXRUaW1lcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubGltaXRUaW1lcyA9IHJlc3VsdC5saW1pdFRpbWVzXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpe1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZ2V0UHJpemVGYWlsKCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5hamF4aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZihlcnImJmVyci5saW1pdFRpbWVzKXtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5saW1pdFRpbWVzID0gZXJyLmxpbWl0VGltZXNcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIGdldFByaXplRmFpbDpmdW5jdGlvbigpe1xyXG4gICAgICAgIGlmICh0aGlzLnJlc0RhdGFbJ2Vycm9yX2NvZGUnXSAmJiB0aGlzLnJlc0RhdGFbJ2xpbWl0VGltZXMnXSA+IDAgKXtcclxuICAgICAgICAgICAgdGhpcy5saW1pdFRpbWVzID0gdGhpcy5yZXNEYXRhWydsaW1pdFRpbWVzJ107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2hvd05vUmVzdWx0KCk7XHJcbiAgICB9LFxyXG4gICAgc2hvd1ByaXplOmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgJHBvcFBvc2l0aW9uID0gJCgnLnBvcC1wb3NpdGlvbiAnKTtcclxuXHJcbiAgICAgICAgdmFyICRjb3VudFphID0gJCgnI2NvdW50WmEnKTtcclxuICAgICAgICB0aGlzLmxpbWl0VGltZXMgPSB0aGlzLnJlc0RhdGEmJnRoaXMucmVzRGF0YS5saW1pdFRpbWVzO1xyXG4gICAgICAgICRjb3VudFphLnRleHQodGhpcy5saW1pdFRpbWVzfHwwKTtcclxuXHJcblxyXG4gICAgICAgIC8v6K+35rGC5oiQ5Yqf77yM5Y+R6YCB5qOA5rOiXHJcbiAgICAgICAgaWYgKF90aGlzLnJlc0RhdGFbJ2FkbXMnXSkge1xyXG4gICAgICAgICAgICB2YXIgYWRNc2cgPSBfdGhpcy5yZXNEYXRhWydhZG1zJ11bMF07XHJcblxyXG4gICAgICAgICAgICAkcG9wUG9zaXRpb24uZmluZCgnLnByaXplcy1pbWcnKS5hdHRyKCdzcmMnLGFkTXNnLmltZ3VybHMpO1xyXG4gICAgICAgICAgICAkcG9wUG9zaXRpb24uZmluZCgnLnByaXplcy1uYW1lJykudGV4dChhZE1zZy50aXRsZSk7XHJcblxyXG4gICAgICAgICAgICBfdGhpcy5zaG93TG9nKGFkTXNnWydpbXB0cmFja2VycyddKTtcclxuXHJcblxyXG4gICAgICAgICAgICAkKCcucHJpemVzLXpvb20tYm94LCNoZGdnX2NsaWNrX2FkX2J0bicpXHJcbiAgICAgICAgICAgICAgICAudW5iaW5kKCBcImNsaWNrXCIgKVxyXG4gICAgICAgICAgICAgICAgLm9uKCdjbGljaycsZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmNsaWNrTG9nKGFkTXNnWydjbGt0cmFja2VycyddKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYWRNc2dbJ2Nsa3VybCddOyAvL+i3s+i9rOmhtemdolxyXG4gICAgICAgICAgICAgICAgICAgIH0sNjAwKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkcG9wUG9zaXRpb24uZmluZCgnLnByaXplcy1uby1jb250JykuaGlkZSgpO1xyXG4gICAgICAgICRwb3BQb3NpdGlvbi5maW5kKCcucHJpemVzLWNvbnQtYm94JykucmVtb3ZlQ2xhc3MoJ2hkZ2dfcmVzdWx0X2hpZGVfYW5pbWF0aW9uJykuYWRkQ2xhc3MoJ2hkZ2dfcmVzdWx0X3Nob3dfYW5pbWF0aW9uJykuc2hvdygpO1xyXG4gICAgICAgICRwb3BQb3NpdGlvbi5zaG93KCk7XHJcblxyXG4gICAgfSxcclxuICAgIHNob3dOb1Jlc3VsdDpmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciAkcG9wUG9zaXRpb24gPSAkKCcucG9wLXBvc2l0aW9uICcpO1xyXG4gICAgICAgICRwb3BQb3NpdGlvbi5maW5kKCcucHJpemVzLW5vLWNvbnQnKS5zaG93KCk7XHJcbiAgICAgICAgJHBvcFBvc2l0aW9uLmZpbmQoJy5wcml6ZXMtY29udC1ib3gnKS5oaWRlKCk7XHJcbiAgICAgICAgJCgnLnByaXplcy1uby1jb250IC5wcml6ZXMtbm8taW1nJykuYXR0cignc3JjJywnLi9kaXN0L2ltZy9nb2xkZW5FZ2dzL3ByaXplcy1wb3AtZmFpbC5wbmcnKTtcclxuICAgICAgICAkcG9wUG9zaXRpb24uc2hvdygpO1xyXG4gICAgfSxcclxuICAgIHNob3dMaW1pdGVkOmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyICRwb3BQb3NpdGlvbiA9ICQoJy5wb3AtcG9zaXRpb24gJyk7XHJcbiAgICAgICAgJHBvcFBvc2l0aW9uLmZpbmQoJy5wcml6ZXMtbm8tY29udCcpLnNob3coKTtcclxuICAgICAgICAkcG9wUG9zaXRpb24uZmluZCgnLnByaXplcy1jb250LWJveCcpLmhpZGUoKTtcclxuICAgICAgICAkKCcucHJpemVzLW5vLWNvbnQgLnByaXplcy1uby1pbWcnKS5hdHRyKCdzcmMnLCcuL2Rpc3QvaW1nL2dvbGRlbkVnZ3MvcHJpemVzLXBvcC1uby5wbmcnKTtcclxuICAgICAgICAkcG9wUG9zaXRpb24uc2hvdygpO1xyXG4gICAgfSxcclxuICAgIGhpZGVQcml6ZTpmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciAkcG9wUG9zaXRpb24gPSAkKCcucG9wLXBvc2l0aW9uICcpO1xyXG4gICAgICAgICRwb3BQb3NpdGlvbi5maW5kKCcucHJpemVzLW5vLWNvbnQnKS5oaWRlKCk7XHJcbiAgICAgICAgJHBvcFBvc2l0aW9uLmZpbmQoJy5wcml6ZXMtY29udC1ib3gnKS5yZW1vdmVDbGFzcygnaGRnZ19yZXN1bHRfc2hvd19hbmltYXRpb24nKS5hZGRDbGFzcygnaGRnZ19yZXN1bHRfaGlkZV9hbmltYXRpb24nKTtcclxuICAgICAgICAkcG9wUG9zaXRpb24uZmFkZU91dCgpO1xyXG4gICAgICAgIGlmKHRoaXMudGltZXIpe1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpO1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVyID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5kYW5zdWlTd2l0Y2ggPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuamluRGFuQW5pbWF0aW9uKCdiZWF0JywnLmZ1bGwnLDEwMDApO1xyXG4gICAgfSxcclxuICAgIHNob3dMb2c6ZnVuY3Rpb24odXJsQXJyYXkpe1xyXG4gICAgICAgIGlmICh1cmxBcnJheS5sZW5ndGggPCAxICkgcmV0dXJuO1xyXG4gICAgICAgIGZvcih2YXIgaT0wO2k8dXJsQXJyYXkubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgICQoJyNjb250YW5lcicpLmFwcGVuZCgnPGltZyBjbGFzcz1cImltcHRyYWNlXCIgc3JjPVwiJysgdXJsQXJyYXlbaV0gKydcIiAvPicpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjbGlja0xvZzpmdW5jdGlvbih1cmxBcnJheSl7XHJcbiAgICAgICAgaWYgKHVybEFycmF5Lmxlbmd0aCA8IDEgKSByZXR1cm47XHJcbiAgICAgICAgZm9yKHZhciBqPTA7ajx1cmxBcnJheS5sZW5ndGg7aisrKXtcclxuICAgICAgICAgICAgJCgnI2NvbnRhbmVyJykuYXBwZW5kKCc8aW1nIGNsYXNzPVwiY2xpY2t0cmFjZVwiIHNyYz1cIicrIHVybEFycmF5W2pdICsnXCIgLz4nKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgZ2V0TmV0d29yazpmdW5jdGlvbigpeyAgICAgIC8q6I635Y+W572R57uc546v5aKDKi9cclxuICAgICAgICB2YXIgdCA9IG51bGwsXHJcbiAgICAgICAgICAgIG5ldFR5cGUgPSAwXHJcbiAgICAgICAgICAgICwgZSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50XHJcbiAgICAgICAgICAgICwgbiA9IG5hdmlnYXRvci5jb25uZWN0aW9uIHx8IG5hdmlnYXRvci5tb3pDb25uZWN0aW9uIHx8IG5hdmlnYXRvci53ZWJraXRDb25uZWN0aW9uO1xyXG5cclxuICAgICAgICBpZiAoL01pY3JvTWVzc2VuZ2VyLy50ZXN0KGUpKVxyXG4gICAgICAgICAgICBpZiAoL05ldFR5cGUvLnRlc3QoZSkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpID0gZS5tYXRjaCgvTmV0VHlwZVxcLyhcXFMqKS8pO1xyXG4gICAgICAgICAgICAgICAgdCA9IGlbMV07XHJcbiAgICAgICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIldlaXhpbkpTQnJpZGdlUmVhZHlcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgV2VpeGluSlNCcmlkZ2UuaW52b2tlKFwiZ2V0TmV0d29ya1R5cGVcIiwge30sIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdCA9IGUuZXJyX21zZ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgZWxzZSBpZiAobikge1xyXG4gICAgICAgICAgICB2YXIgbyA9IG4udHlwZTtcclxuICAgICAgICAgICAgdCA9IG87XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByID0gdGhpcy5uZXRUeXBlQXJyYXk7XHJcbiAgICAgICAgaWYgKHR5cGVvZih0KSAhPSAnc3RyaW5nJykgdCA9ICd1bmRlZmluZWQnO1xyXG4gICAgICAgIHQgPSB0LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgZm9yICh2YXIgaz0wO2s8ci5sZW5ndGg7aysrKXtcclxuICAgICAgICAgICAgaWYodC5pbmRleE9mKHJba10pID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIG5ldFR5cGUgPSBrO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldFR5cGU7XHJcbiAgICB9LFxyXG4gICAgY29sbFJlcURhdGE6ZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgcmVxRGF0YSA9IHtcclxuICAgICAgICAgICAgdGVtcGxhdGVfaWQ6IHdpbmRvdy5DRkdbJ3RlbXBsYXRlX2lkJ10sXHJcbiAgICAgICAgICAgIGRldmljZV9pZDogIHN0b3JlLmdldCgnZGV2aWNlX2lkJykgfHwgdGhpcy5nZXRVcmxJdGVtKCdkZXZpY2VfaWQnKSxcclxuICAgICAgICAgICAgYXBwX2lkOiBzdG9yZS5nZXQoJ2FwcF9pZCcpIHx8dGhpcy5nZXRVcmxJdGVtKCdhcHBfaWQnKSxcclxuICAgICAgICAgICAgYWRzbG90X2lkOiBzdG9yZS5nZXQoJ2Fkc2xvdF9pZCcpIHx8dGhpcy5nZXRVcmxJdGVtKCdhZHNsb3RfaWQnKSxcclxuICAgICAgICAgICAgY29ubmVjdF90eXBlOiB0aGlzLmdldE5ldHdvcmsoKSxcclxuICAgICAgICAgICAgd2lkdGg6ICAkKHdpbmRvdykud2lkdGgoKSxcclxuICAgICAgICAgICAgaGVpZ2h0OiAkKHdpbmRvdykuaGVpZ2h0KCksXHJcbiAgICAgICAgICAgIHRpbWVzdGFtcDogK25ldyBEYXRlKCksXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gcmVxRGF0YTtcclxuICAgIH1cclxufTtcclxuXHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBuZXcgR29sZGVuRWdncygpO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdfQ=="}